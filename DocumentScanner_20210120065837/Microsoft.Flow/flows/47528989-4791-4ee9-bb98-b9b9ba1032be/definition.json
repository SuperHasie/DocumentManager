{"name":"26b0ec1e-f612-46ad-9553-2f7bfd7cecff","id":"/providers/Microsoft.Flow/flows/26b0ec1e-f612-46ad-9553-2f7bfd7cecff","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"Upload Image To Sharepoint","definition":{"metadata":{"workflowEntityId":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"599afe40-4477-4a27-95f5-9f020bf93fa3","type":"User","tenantId":"2bdc83fe-9b8b-4af8-92bf-9e0069173034"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2021-01-11T09:23:04.3600327Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"},"sharepoint.site":{"defaultValue":"","type":"String"},"sharepoint.folderPath":{"defaultValue":"","type":"String"}},"triggers":{"manual":{"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"CreatefileFilename":{"type":"string","description":"Name of the file","x-ms-powerflows-param-ispartial":false},"Createfile_FileContent":{"type":"string","format":"binary","description":"Content of the file.","x-ms-powerflows-param-ispartial":false}},"required":["CreatefileFilename","Createfile_FileContent"]}}}},"actions":{"Convert_to_binary_image":{"runAfter":{},"type":"Compose","inputs":"@dataUriToBinary(triggerBody()['Createfile_FileContent'])"},"Create_file":{"runAfter":{"Convert_to_binary_image":["Succeeded"]},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","connectionName":"shared_sharepointonline","operationId":"CreateFile"},"parameters":{"dataset":"https://babcockza.sharepoint.com/sites/PowerPlatformTest","folderPath":"/Shared Documents/Asset Handovers","name":"@triggerBody()['CreatefileFilename']","body":"@outputs('Convert_to_binary_image')"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}}},"outputs":{},"description":"Add a new photo to a SharePoint document or picture library when a button in Power Apps is pressed. Important : This template should only be used with the Camera control in Power Apps (Camera.photo property)."},"connectionReferences":{"shared_sharepointonline":{"connectionName":"shared-sharepointonl-5fb8e82c-831a-41ec-9687-9d2853ba2d65","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sharepointonline","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}